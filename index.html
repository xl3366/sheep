<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>ğŸäº†ä¸ªğŸ,ä¸€é”®å…¥ç¾Šç¾¤-å°é¾™</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <link href="./static/favicon.ico" rel="shortcut icon" type="image/x-icon">
    <link rel="stylesheet" href="./static/plugins/layui/css/layui.css" media="all">
    <link rel="stylesheet" href="./static/css/login.css" media="all">

    <script>
        /^http(s*):\/\//.test(location.href) || alert('ç³»ç»Ÿé”™è¯¯');
    </script>

</head>
<body>


<style>
    body {
        background: url("https://dd-static.jd.com/ddimg/jfs/t1/192683/36/27944/54359/6326d233E26979bb3/33ed3a7aaebc0f38.jpg") no-repeat fixed center;
        background-size: 100% 100%;
        position: center
    }

    .show {
        display: block;
    }

    .hide {
        display: none;;
    }

    .layui-btn {
        -webkit-box-shadow: 0 3px 4px 0 rgba(7, 65, 60, .32),
        inset 0 -2px 0 0 rgb(6, 141, 129);
        box-shadow: 0 3px 4px 0 rgba(7, 65, 60, .32),
        inset 0 -2px 0 0 rgb(6, 141, 129);
        transition: all .2s;
        -webkit-transition: all .2s;
        -moz-transition: all .2s;
        -ms-transition: all .2s;
        -o-transition: all .2s;
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
    }

    .layui-btn:active {
        -webkit-box-shadow: 0 3px 4px 0 rgba(7, 65, 60, .32), inset 0 0px 0 0 rgb(6, 141, 129);
        box-shadow: 0 3px 4px 0 rgba(7, 65, 60, .32), inset 0 0px 0 0 rgb(6, 141, 129);
        background-image: -webkit-gradient(linear, left bottom, left top,
        from(#33ABA0), color-stop(96%, #1a988c));
        background-image: linear-gradient(0deg, #33ABA0 0%, #1a988c 96%);
        -webkit-transform: scale(0.98);
        transform: scale(1);
        transition: all .4s;
    }

    .layui-btn:hover {
        -webkit-box-shadow: 0 8px 20px 0 rgba(7, 65, 60, .4);
        box-shadow: 0 8px 20px 0 rgba(7, 65, 60, .4);
        border-radius: 3px;
        -webkit-transform: scale(1.02);
        transform: scale(1.01) translateY(-2px);
    }
</style>
<div class="layadmin-user-login layadmin-user-display-show" id="LAY-user-login">

    <div class="layadmin-user-login-main login-content">
        <div class="layadmin-user-login-box layadmin-user-login-header">
            <h2 style="color: black">ä¸€é”®å…¥ç¾Šç¾¤&nbsp;<img src="./static/img/9CB2ED2048A44857205781071DCE63A2.png" width="50">
            </h2>
        </div>
        <div>ä½ å¥½ï¼ <span id="usernick"></span></div>
        <div class="layadmin-user-login-box layadmin-user-login-body layui-form">
            <div class="layui-form-item">
                <label class="layadmin-user-login-icon layui-icon-username layui-icon"
                       for="LAY-user-sheep-uid"></label>
                <input class="layui-input" id="LAY-user-sheep-uid" lay-verify="required" name="uid"
                       placeholder="UID (å¿…å¡«)" autocomplete="off" type="text">
            </div>
            <div class="layui-form-item" id="USER-TOKEN" style="position: relative">
                <label class="layadmin-user-login-icon layui-icon layui-icon-template"
                       for="LAY-user-sheep-token"></label>
                <input class="layui-input" id="LAY-user-sheep-token" lay-verify="required" name="token"
                       placeholder="Token (å¿…å¡«)" type="text" style="width: 70%;" rows="2"></input>
                <button class="layui-btn layui-btn-fluid layui-inline" id="get-token"
                        style="width: 29%;position:absolute;right: 0;top:0;padding: 0">è·å–token
                </button>

            </div>
            <div class="layui-form-item" id="COUNT">
                <label class="layadmin-user-login-icon layui-icon layui-icon-add-1"
                       for="LAY-user-sheep-count"></label>
                <input class="layui-input" id="LAY-user-sheep-count" lay-verify="required|number" name="count"
                       placeholder="å…¥ç¾¤æ¬¡æ•°[1-100] (å¿…å¡«)" type="number">
            </div>
            <div class="layui-form-item" id="TIME">
                <label class="layadmin-user-login-icon layui-icon layui-icon-time"
                       for="LAY-user-sheep-count"></label>
                <input class="layui-input" id="LAY-user-sheep-time" lay-verify="number" name="time"
                       placeholder="é€šå…³æ—¶é—´,å•ä½ç§’[å»ºè®®1-999]" type="number">
            </div>
            <div class="layui-form-item" style="background-color: white">
                <label class="layui-form-label">æ¸¸æˆæ¨¡å¼</label>
                <div class="layui-input-block">
                    <input type="radio" name="mode" value="1" title="æ¯æ—¥é—¯å…³" checked="1">
                    <input type="radio" name="mode" value="2" title="è¯é¢˜PK">
                </div>
            </div>
            <div class="layui-form-item">

                <button class="layui-btn layui-btn-fluid" id="submit" lay-filter="user-submit" lay-submit><i
                        style="display: none"
                        class=" layui-icon layui-icon layui-icon-loading  layui-anim layui-anim-rotate layui-anim-loop"></i>
                    ä¸€é”®å…¥ç¾¤
                </button>
            </div>
            <div class="layui-card">
                <div class="layui-card-header">æ‰§è¡Œæ§åˆ¶å°</div>
                <div class="layui-card-body">
                    <span style="color: green"><span>æˆåŠŸ</span><span id="success">0</span></span>
                    &nbsp;&nbsp;
                    <span style="color: red"><span>å¤±è´¥</span><span id="failed">0</span></span>
                    &nbsp;&nbsp;
                    <span><span id="status">å¾…å¤„ç†</span></span>
                    &nbsp;&nbsp;
                    <a href="javascript:" id="log">æ—¥å¿—æ˜ç»†</a>
                </div>
            </div>

            <div class="layui-collapse" lay-accordion="">
                <div class="layui-colla-item">
                    <h2 class="layui-colla-title"><strong>è¯´æ˜</strong></h2>
                    <div class="layui-colla-content layui-show" style="padding:0">
                        <div class="" style="background-color: white;padding: 5px">
                            æç¤ºæ²¡æœ‰æƒé™æ˜¯å¤§æ¦‚ç‡æ˜¯Tokenæ— æ•ˆï¼Œä¸€èˆ¬æ˜¯å¡«å†™é”™è¯¯å¯¼è‡´çš„<br>
                            é€šå…³çš„æ—¶é—´å¦‚æœä¸å¡«æˆ–è€…0ï¼Œåˆ™æ˜¯ç”±éšæœºç”Ÿæˆ<br>
                            tokenæ•´ä¸ªæ¸¸æˆé€šç”¨,ç›®å‰æœ‰æ•ˆæœŸæ˜¯1å¹´<br>
                            UIDä¸€èˆ¬æ˜¯æ¸¸æˆä¸­"æˆ‘çš„åç‰‡"ä¸­å¤´åƒä¸‹çš„IDå·<br>
                            <a href="https://idcw.eu.org/2022/09/18/sheep/">è¯¦ç»†æ•™ç¨‹</a>
                        </div>
                    </div>
                </div>
                <div class="layui-colla-item">
                <div class="layui-colla-item">
                    <h2 class="layui-colla-title"><strong>å…è´£å£°æ˜</strong></h2>
                    <div class="layui-colla-content" style="padding:0">
                        <div class="" style="background-color: white;padding: 5px">

                            æ­¤ç½‘ç«™ä»…ä¾›å¨±ä¹, ä¸”ä»…ç”¨äºæµ‹è¯•å’Œå­¦ä¹ ç ”ç©¶ï¼ç¦æ­¢å°†æºç ç”¨äºå•†ä¸šç”¨é€”ï¼Œä¸èƒ½ä¿è¯å…¶åˆæ³•æ€§ï¼Œå‡†ç¡®æ€§ï¼Œå®Œæ•´æ€§å’Œæœ‰æ•ˆæ€§ï¼Œè¯·æ ¹æ®æƒ…å†µè‡ªè¡Œåˆ¤æ–­ã€‚<br>
                            ä½œè€…å¯¹ä»»ä½•æ“ä½œæ‰€å¯¼è‡´çš„é—®é¢˜æ¦‚ä¸è´Ÿè´£ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºç”±ä»»ä½•è„šæœ¬é”™è¯¯å¯¼è‡´çš„ä»»ä½•æŸå¤±æˆ–æŸå®³.<br>
                            è¯·å‹¿å°†æœ¬é¡¹ç›®çš„ä»»ä½•å†…å®¹ç”¨äºå•†ä¸šæˆ–éæ³•ç›®çš„ï¼Œå¦åˆ™åæœè‡ªè´Ÿã€‚<br>
                            å¦‚æœä»»ä½•å•ä½æˆ–ä¸ªäººè®¤ä¸ºè¯¥é¡¹ç›®çš„è„šæœ¬å¯èƒ½æ¶‰å«Œä¾µçŠ¯å…¶æƒåˆ©ï¼Œåˆ™åº”åŠæ—¶é‚®ç®±(gulihua@jianwoo.cn)é€šçŸ¥å¹¶æä¾›èº«ä»½è¯æ˜ï¼Œæ‰€æœ‰æƒè¯æ˜ï¼Œæˆ‘ä»¬å°†åœ¨æ”¶åˆ°è®¤è¯æ–‡ä»¶ååˆ é™¤ç›¸å…³è„šæœ¬åŠé¡µé¢ã€‚<br>
                            ä»¥ä»»ä½•æ–¹å¼æŸ¥çœ‹æ­¤ç½‘ç«™çš„ä½¿ç”¨è€…éƒ½åº”ä»”ç»†é˜…è¯»æ­¤å£°æ˜ã€‚ä½œè€…ä¿ç•™éšæ—¶æ›´æ”¹æˆ–è¡¥å……æ­¤å…è´£å£°æ˜çš„æƒåˆ©ã€‚<br>
                            ä¸€æ—¦ä½¿ç”¨å¹¶æ“ä½œäº†æœ¬ç½‘ç«™ï¼Œåˆ™è§†ä¸ºæ‚¨å·²æ¥å—æ­¤å…è´£å£°æ˜ã€‚<br>
                        </div>
                    </div>
                </div>
                <div class="layui-colla-item">
                    <h2 class="layui-colla-title">ç½‘ç«™æºç </h2>
                    <div class="layui-colla-content" style="padding:0">
                        <div class="" style="background-color: white;padding: 5px">
                            <a href="https://github.com/gulihua10010/sheep" alt="https://github.com/gulihua10010/sheep">æºç </a>
                        </div>
                    </div>
                </div>
                <div class="layui-colla-item">
                    <h2 class="layui-colla-title">ä¸ªäººåšå®¢</h2>
                    <div class="layui-colla-content" style="padding:0">
                        <div class="" style="background-color: white;padding: 5px">
                            <a href="https://idcw.eu.org" alt="å°é¾™'s blog">å°é¾™'s blog</a>
                        </div>
                    </div>
                </div>
            </div>


        </div>
    </div>
</div>
<script id="logTable" type="text/html">
    <ul>
        <table class="layui-table">
            <thead>
            <tr>
                <th>æœåŠ¡å“åº”</th>
            </tr>
            </thead>
            <tbody>
            {{# layui.each(d.list, function(index, item){ }}
            <tr>
                <td>{{ item }}</td>
            </tr>
            {{# }); }}
            {{# if(d.list.length === 0){ }}
            <tr>
                <td>æ— æ•°æ®</td>
            </tr>
            {{# } }}

            </tbody>
        </table>

    </ul>
</script>
<script src="./static/plugins/layui/layui.js"></script>

<script>

    layui.extend({
        utils: "static/js/util"
    }).define(['form', 'layer', "utils", "cfg", "laytpl"], function (exports) {
        var form = layui.form
            , layer = layui.layer
            , $ = layui.jquery
            , utils = layui.utils
            , cfg = layui.cfg
            , laytpl = layui.laytpl

        ;
        var cnt = 0, successCnt = 0, failedCnt = 0, log = {list: []}, timer, processComplete = false;

        if (!isEmpty(getCache("uid"))) {
            $('#LAY-user-sheep-uid').val(getCache("uid"));
        }

        $('#get-token').click(function () {
            var uid = $('#LAY-user-sheep-uid').val();
            if (isEmpty(uid)) {
                alertFail("", "è¯·å¡«å†™UID")
                return;
            }
            putCache("uid", uid)
            if (!isEmpty(getCache(uid))) {
                $('#LAY-user-sheep-token').val(getCache(uid));
                return;
            }
            req({
                url: cfg.userInfoUrl,
                data: {
                    uid: uid,
                    t: cfg.initToken,
                },
                success: function (res) {
                    $('#usernick').text(res[cfg.response.dataName].nick_name)
                    req({
                        url: cfg.loginTouristUrl,
                        type: "post",
                        data: {
                            uid: res[cfg.response.dataName].wx_open_id,
                            avatar: 1,
                            nick_name: 1,
                            sex: 1,
                            t: cfg.initToken,

                        },
                        header: {
                            'Content-Type': 'application/x-www-form-urlencoded'
                        },
                        success: function (res) {
                            alertSuccess("", "tokenè·å–æˆåŠŸ!")
                            $('#LAY-user-sheep-token').val(res[cfg.response.dataName].token);
                            putCache(uid, res[cfg.response.dataName].token)
                        }

                    })
                }

            })

        })


        layui.form.on('submit(user-submit)', function (formData) {
            $(this).attr("disabled", true)
            $('.layui-icon-loading').css("display", 'inline-block')
            $('#status').text('æ­£åœ¨å¤„ç†..')
            var field = formData.field;
            if (cfg.debug) {
                console.log(field)
            }
            if (isNaN(field.count) || field.count > 100 || field.count < 1) {
                alertFail("", "å…¥ç¾¤æ¬¡æ•°åº”ä¸ºæ•°å­—ï¼Œä¸”èŒƒå›´åœ¨1-100ä¹‹å†…ï¼")
                return;
            }
            if (!isEmpty(field.time) && (isNaN(field.time) || field.time > 999 || field.time < 1)) {
                alertFail("", "é€šå…³æ—¶é—´åº”ä¸ºæ•°å­—ï¼Œä¸”èŒƒå›´åœ¨1-999ä¹‹å†…ï¼")
                return;
            }
            if (isEmpty(field.time)) {
                field.time = Math.floor(Math.random() * 999 + 1)
            }

            var url = cfg.defaultGameUrl;

            if (field.mode === '2') {
                url = cfg.topicGameUrl;
            }

            timer = setInterval(function () {
                if (cnt >= field.count - 1) {
                    clearInterval(timer);
                    processComplete = true;
                    $('#submit').attr("disabled", false)
                    $('.layui-icon-loading').css("display", 'none')
                    $('#status').text('å¤„ç†å®Œæˆ')
                    cnt = -1
                }
                req({
                    url: url,
                    data: {
                        t: field.token,
                        rank_score: 1,
                        rank_time: field.time,
                        rank_role: 1,
                        rank_state: 1,
                        skin: 1,
                    },
                    alert: false,
                    success: function (res) {
                        successCnt++;
                        $('#success').text(successCnt)
                        log.list.push(JSON.stringify(res))

                    },
                    failed: function (res) {
                        failedCnt++;
                        console.log("f")
                        $('#failed').text(failedCnt)
                        log.list.push(JSON.stringify(res))
                    }

                })
                cnt++;


            }, cfg.loopTime);


        });

        $('#log').click(function () {
            layer.open({
                type: 1,
                title:'æ—¥å¿—æ˜ç»†',
                skin: 'layui-layer-rim', //åŠ ä¸Šè¾¹æ¡†
                area: ['90%', '60%'], //å®½é«˜
                content: '<div id="view"></div>'
                , success: function (layero, index) {
                    var getTpl = document.getElementById('logTable').innerHTML
                        , view = document.getElementById('view');
                    laytpl(getTpl).render(log, function (html) {
                        view.innerHTML = html;
                    });
                }
            });
        })



    })

</script>
</body>
</html>
